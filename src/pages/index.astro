---
import SEO from '../components/SEO.astro';
import ScrollProgress from '../components/ScrollProgress.astro';
import MinimalNav from '../components/MinimalNav.astro';
import { getCollection } from 'astro:content';
import PostListTable from '../components/PostListTable.astro';
import NewsletterSignup from '../components/NewsletterSignup.astro';
import '../styles/global.css';

// Fetch all non-draft posts, sorted by date descending
const allPosts = await getCollection('blog', ({ data }) => !data.draft);
const sortedPosts = allPosts.sort((a, b) =>
  b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<!DOCTYPE html>
<html lang="en">
<head>
  <SEO
    title="Neurohackingly - Productivity, AI & Neuroscience"
    description="Practical strategies and insights on productivity, AI, and personal growth by Lukas Zangerl"
    category="home"
  />
</head>
<body>
  <ScrollProgress />
  <MinimalNav />

  <main>
    <header class="hero">
      <div class="hero-inner">
        <h1>Neurohackingly</h1>
        <p class="tagline">Upgrade your brain, mind, and body</p>
        <p class="subtitle">Practical strategies for productivity, AI, and personal growth</p>

        <div class="social-icons">
          <a href="https://x.com/neurohackingly" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">X</a>
          <a href="https://linkedin.com/in/lukzan" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">LinkedIn</a>
          <a href="https://github.com/codeme-ne" target="_blank" rel="noopener noreferrer" aria-label="GitHub">GitHub</a>
          <a href="/rss.xml" aria-label="RSS Feed">RSS</a>
        </div>

        <NewsletterSignup source="home-hero" id="hero-email" ariaLabel="Join the newsletter" />
      </div>
    </header>

    <section class="posts-section">
      <PostListTable posts={sortedPosts} />
    </section>

  </main>

  <footer>
    <p>Â© 2025 Neurohackingly by Lukas Zangerl</p>
  </footer>
</body>
</html>

<style>
  .hero-inner {
    max-width: 720px;
    margin: 0 auto;
  }

  .social-icons {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    margin: 1.5rem 0;
  }

  .social-icons a {
    color: var(--color-text-light);
    text-decoration: none;
    font-size: 0.9rem;
  }

  .social-icons a:hover {
    color: var(--color-text);
  }

  .posts-section {
    margin-top: 4rem;
    margin-bottom: 4rem;
  }

  @media (max-width: 640px) {
    .hero-inner {
      padding-inline: 1rem;
    }
  }
  
</style>
