---
import SEO from '../components/SEO.astro';
import ScrollProgress from '../components/ScrollProgress.astro';
import Nav from '../components/Nav.astro';
import '../styles/global.css';

const status = Astro.url.searchParams.get('status');
---

<!DOCTYPE html>
<html lang="en">
<head>
  <SEO
    title="Newsletter | Neurohackingly"
    description="Join the Neurohackingly newsletter for weekly insights on productivity, AI, and personal-growth"
    category="newsletter"
  />
</head>
<body>
  <ScrollProgress />
  <Nav />

  <main>
    <header class="hero">
      <h1>Sunday Shares</h1>
      <p class="tagline">Your Weekly Dose of Actionable Insights</p>
      <p class="subtitle">
        Every Sunday, get practical productivity tips, AI insights, and science-backed strategies
        delivered straight to your inbox.
      </p>
      {status === 'success' && (
        <p style="margin-top: 1rem; color: #1b7b2c; font-weight: 600;">
          Thanks! Check your inbox to confirm your subscription.
        </p>
      )}
      {status === 'already' && (
        <p style="margin-top: 1rem; color: #444;">
          Looks like you are already subscribed. Appreciate having you here!
        </p>
      )}
      {status === 'error' && (
        <p style="margin-top: 1rem; color: #b00020;">
          Something went wrong. Please try again or email me at neurohackingly@gmail.com.
        </p>
      )}
    </header>

    <section style="max-width: 500px; margin: 3rem auto; text-align: center;">
      <p style="margin-bottom: 2rem; color: #666;">
        Join a growing community of readers who are upgrading their brain, mind, and body.
      </p>

      <div style="padding: 2rem; background: #f9f9f9; border-radius: 0.5rem;">
        <h3>Subscribe Now</h3>
        <p style="font-size: 0.9rem; color: #666; margin: 1rem 0;">
          Practical Sunday systems and science-backed prompts—no spam, ever.
        </p>

        <form action="/api/subscribe" method="post" style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1.5rem;" novalidate>
          <input
            type="email"
            name="email"
            placeholder="you@example.com"
            autocomplete="email"
            required
            style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.25rem; font-size: 1rem;"
          />
          <input
            type="text"
            name="name"
            placeholder="First name (optional)"
            autocomplete="given-name"
            style="padding: 0.75rem; border: 1px solid #ddd; border-radius: 0.25rem; font-size: 1rem;"
          />
          <input type="hidden" name="source" value="newsletter-page" />
          <input type="text" name="website" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;opacity:0;" aria-hidden="true" />
          <button
            type="submit"
            style="padding: 0.75rem; background: #0066cc; color: white; border: none; border-radius: 0.25rem; font-weight: 600; cursor: pointer;"
          >
            Subscribe
          </button>
        </form>
      </div>

      <p style="margin-top: 2rem; font-size: 0.9rem; color: #666;">
        No spam. Unsubscribe anytime. Read by 600+ productivity enthusiasts.
      </p>
    </section>
  </main>

  <footer>
    <p>© 2025 Neurohackingly by Lukas Zangerl</p>
  </footer>
</body>
</html>
